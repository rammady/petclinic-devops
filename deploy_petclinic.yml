---
- host: dockerhost
  tasks:
  - name: stop existing container
    command: docker stop petclinic-server
    ignore_erros: yes
    
  - name: remove existing container
    command: docker rm petclinic-server
    ignore_erros: yes
    
  - name: remove existing container
    command: docker rmi rammady/petclinic:latest
    ignore_erros: yes
   
  - name: create new container
    command: docker run -d --name petclinic-server -p 8082:8080 rammady/petclinic:latest
    
